!!!
%html
  %head
    %title RSSr
    %meta(name="viewport" content="width=device-width, initial-scale=1")
    = favicon_link_tag asset_path("favicon.png")
    %link(rel="apple-touch-icon" href="#{asset_path("apple-touch.png")}")
    = csrf_meta_tags
    = csp_meta_tag

    = stylesheet_link_tag 'application', media: 'all'
    = javascript_pack_tag 'application'
    %link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css")

  %body.bg-light(class="#{"darkmode" if @darkmode}")
    %nav.navbar.sticky-top.border-bottom.navbar-light.bg-white
      .container-fluid.ps-0
        %div
          = link_to "#menuOffCancas", class: "btn pt-0", "data-bs-toggle" => "offcanvas" do
            %i.bi.bi-list
          = link_to root_path, class: "navbar-brand" do
            RSSr
                
        .d-flex
          = link_to new_search_path, class: "btn" do
            %i.bi.bi-search
          - if !signed_in?
            = link_to new_user_session_path, class: "btn" do
              %i.bi.bi-unlock

    = yield

    - if flash[:alert]
      .position-fixed.bottom-0.end-0.toast.align-items-center.text-white.bg-danger.border-0.show(role="alert" aria-live="assertive" aria-atomic="true")
        .d-flex
          .toast-body
            =flash[:alert]
          %button.btn-close.btn-close-white.me-2.m-auto(type="button" data-bs-dismiss="toast" aria-label="Close")

    - if flash[:notice]
      .position-fixed.bottom-0.end-0.toast.align-items-center.text-white.bg-success.border-0.show(role="notice" aria-live="assertive" aria-atomic="true")
        .d-flex
          .toast-body
            =flash[:notice]
          %button.btn-close.btn-close-white.me-2.m-auto(type="button" data-bs-dismiss="toast" aria-label="Close")
    
    = render partial: "/layouts/menu"
