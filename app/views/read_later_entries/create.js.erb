<% if @read_later.valid? %>
  function readLater () {
    const parent = document.getElementById("read-later-<%= @read_later.entry.id %>");
    const readLaterReadIt = parent.getElementsByClassName("read-later-read-it")[0];
    readLaterReadIt.classList.remove("d-none");
    const readLater = parent.getElementsByClassName("read-later")[0];
    readLater.classList.add("d-none");

    const badge = document.getElementsByClassName("read-later-count-badge")[0];
    badge.innerHTML = "<%= @read_later_count %>";
    badge.classList.remove("d-none");
  }


  readLater();
<% else %>
  function showMessage () {
    const alert = document.getElementById("async-flash-alert");
    const body = alert.getElementsByClassName("toast-body")[0];
    body.innerHTML = "<%= @subscription.errors.full_messages.to_sentence %>";
    alert.classList.add("show");
  }
  showMessage();
<% end %>